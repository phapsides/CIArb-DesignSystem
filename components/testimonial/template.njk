{% from 'image/macro.njk' import bcImage %}
{% from 'heading/macro.njk' import bcHeading %}

<article
	data-module="bc-testimonial"
	class="bc-testimonial
	{%- if params.image %} bc-testimonial--with-image {% endif %}
	{%- if params.classes %} {{ params.classes }}{% endif %}"
	{%- for attribute, value in params.attributes %} {{ attribute }}="{{ value }}"{% endfor %}
>
    <div class="bc-testimonial__container">
        {%- if params.image %}
            <div class="bc-testimonial__media">
                {{ bcImage(params.image) }}
            </div>
        {%- endif %}
        {%- if caller %}
            <div class="bc-testimonial__body">
                {{ bcHeading(params.heading) }}
                {{ caller() }}
                {%- if params.name and params.job %}
                    <p class="bc-testimonial__details">{{ params.name }}, {{ params.job }}</p>
                {%- endif %}
            </div>
        {%- endif %}
    </div>
</article>